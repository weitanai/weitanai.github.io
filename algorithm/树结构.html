<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>树 | Weitanai</title>
    <meta name="description" content="Rock And Roll">
    
    
    <link rel="preload" href="/assets/css/0.styles.5c38130e.css" as="style"><link rel="preload" href="/assets/js/app.4ed34284.js" as="script"><link rel="preload" href="/assets/js/2.179fc952.js" as="script"><link rel="preload" href="/assets/js/23.2ee85c93.js" as="script"><link rel="prefetch" href="/assets/js/10.68dc8d53.js"><link rel="prefetch" href="/assets/js/11.832d96e7.js"><link rel="prefetch" href="/assets/js/12.33575e22.js"><link rel="prefetch" href="/assets/js/13.a044b60e.js"><link rel="prefetch" href="/assets/js/14.593fea9c.js"><link rel="prefetch" href="/assets/js/15.cad1522e.js"><link rel="prefetch" href="/assets/js/16.712b690b.js"><link rel="prefetch" href="/assets/js/17.cd78bb73.js"><link rel="prefetch" href="/assets/js/18.2debaf5f.js"><link rel="prefetch" href="/assets/js/19.f8de78ef.js"><link rel="prefetch" href="/assets/js/20.f0007b06.js"><link rel="prefetch" href="/assets/js/21.bfea6e70.js"><link rel="prefetch" href="/assets/js/22.d5f0398a.js"><link rel="prefetch" href="/assets/js/24.d7b9c088.js"><link rel="prefetch" href="/assets/js/25.c0eecd02.js"><link rel="prefetch" href="/assets/js/26.f8eee9c5.js"><link rel="prefetch" href="/assets/js/27.b1ce073b.js"><link rel="prefetch" href="/assets/js/28.48df8e62.js"><link rel="prefetch" href="/assets/js/29.2f438cb0.js"><link rel="prefetch" href="/assets/js/3.8f4629bf.js"><link rel="prefetch" href="/assets/js/30.ec20a26d.js"><link rel="prefetch" href="/assets/js/31.ed3582c1.js"><link rel="prefetch" href="/assets/js/32.f57554e0.js"><link rel="prefetch" href="/assets/js/33.acdf3adf.js"><link rel="prefetch" href="/assets/js/34.fb00c414.js"><link rel="prefetch" href="/assets/js/35.e54e13a0.js"><link rel="prefetch" href="/assets/js/36.cab101c8.js"><link rel="prefetch" href="/assets/js/37.5bce502a.js"><link rel="prefetch" href="/assets/js/38.1f71117c.js"><link rel="prefetch" href="/assets/js/39.9322f78e.js"><link rel="prefetch" href="/assets/js/4.b253f392.js"><link rel="prefetch" href="/assets/js/40.a5a5bd97.js"><link rel="prefetch" href="/assets/js/5.b6a9313e.js"><link rel="prefetch" href="/assets/js/6.9ee5c745.js"><link rel="prefetch" href="/assets/js/7.2358918f.js"><link rel="prefetch" href="/assets/js/8.c2b664f0.js"><link rel="prefetch" href="/assets/js/9.56c8ec88.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5c38130e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Weitanai</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端世界" class="dropdown-title"><span class="title">前端世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">工程实践</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">浏览器</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/weitanai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端世界" class="dropdown-title"><span class="title">前端世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">工程实践</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">浏览器</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/weitanai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/algorithm/" class="sidebar-link">常见算法与数据结构的总结</a></li><li><a href="/algorithm/数组与矩阵.html" class="sidebar-link">数组与矩阵</a></li><li><a href="/algorithm/DFS-BFS.html" class="sidebar-link">DFS与BFS</a></li><li><a href="/algorithm/二分查找.html" class="sidebar-link">二分查找</a></li><li><a href="/algorithm/双指针.html" class="sidebar-link">双指针</a></li><li><a href="/algorithm/排序.html" class="sidebar-link">sort</a></li><li><a href="/algorithm/位运算.html" class="sidebar-link">位运算</a></li><li><a href="/algorithm/字符串.html" class="sidebar-link">字符串</a></li><li><a href="/algorithm/linkedList.html" class="sidebar-link">LinkList</a></li><li><a href="/algorithm/stack-queue.html" class="sidebar-link">stack-queue</a></li><li><a href="/algorithm/数学.html" class="sidebar-link">数学</a></li><li><a href="/algorithm/贪心算法与回溯算法.html" class="sidebar-link">贪心算法与回溯算法</a></li><li><a href="/algorithm/动态规划.html" class="sidebar-link">动态规划</a></li><li><a href="/algorithm/查并集.html" class="sidebar-link">查并集</a></li><li><a href="/algorithm/树结构.html" class="active sidebar-link">树</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/algorithm/AVL.html" class="sidebar-link">AVL</a></li><li><a href="/algorithm/heap.html" class="sidebar-link">Heap</a></li><li><a href="/algorithm/链表结构.html" class="sidebar-link">链表</a></li><li><a href="/algorithm/Hash.html" class="sidebar-link">Hash</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="树"><a href="#树" class="header-anchor">#</a> 树</h1> <h3 id="_1-优化链表"><a href="#_1-优化链表" class="header-anchor">#</a> 1 优化链表</h3> <h4 id="_1-fundamental-problem-slow-search-even-though-it’s-in-order"><a href="#_1-fundamental-problem-slow-search-even-though-it’s-in-order" class="header-anchor">#</a> 1 Fundamental Problem: Slow search, even though it’s in order.</h4> <ul><li>How do we do even better?</li> <li>Dream big!</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/388749/1571290072188-6489287d-e4c2-4329-8dd6-17f6e312b6bb.png" alt="Ftree.png"></p> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/388749/1571290085044-4062757d-734f-4a47-a2bb-878ee1311c67.png" alt="tree1.png"></p> <h3 id="_2-bst"><a href="#_2-bst" class="header-anchor">#</a> 2 BST</h3> <h4 id="_1-search"><a href="#_1-search" class="header-anchor">#</a> 1 search</h4> <ul><li>与二分搜索思想相同</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token class-name">BST</span> <span class="token function">find</span><span class="token punctuation">(</span>BST <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Key</span> sk<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>sk<span class="token punctuation">.</span><span class="token function">keyequals</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token class-name">T</span><span class="token punctuation">;</span>
   <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sk ≺ <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span> sk<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">else</span>
      <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span>right<span class="token punctuation">,</span> sk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-insert"><a href="#_2-insert" class="header-anchor">#</a> 2 insert</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token class-name">BST</span> <span class="token function">insert</span><span class="token punctuation">(</span>BST <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Key</span> ik<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">BST</span><span class="token punctuation">(</span>ik<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ik ≺ <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token class-name">T</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span> ik<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ik ≻ <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token class-name">T</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span>right<span class="token punctuation">,</span> ik<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token class-name">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-delete"><a href="#_3-delete" class="header-anchor">#</a> 3 delete :</h4> <h5 id="_3-cases"><a href="#_3-cases" class="header-anchor">#</a> 3 Cases</h5> <ul><li>Deletion key has no children.</li> <li>Deletion key has one child.</li> <li>Deletion key has two children.</li></ul> <h5 id="_1-no-children"><a href="#_1-no-children" class="header-anchor">#</a> 1 No children</h5> <p>If the node has no children, it is a leaf, and we can just delete its parent pointer and the node will eventually be swept away by the <a href="https://stackoverflow.com/questions/3798424/what-is-the-garbage-collector-in-java" target="_blank" rel="noopener noreferrer">garbage collector<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h5 id="_2-one-child"><a href="#_2-one-child" class="header-anchor">#</a> 2 One child</h5> <p>If the node only has one child, we know that the child maintains the BST property with the parent of the node because the property is recursive to the right and left subtrees. Therefore, we can just reassign the parent's child pointer to the node's child and the node will eventually be garbage collected.</p> <h5 id="_3-two-children"><a href="#_3-two-children" class="header-anchor">#</a> 3 Two children</h5> <p>If the node has two children, the process becomes a little more complicated because we can't just assign one of the children to be the new root. This might break the BST property.</p> <p>Instead, we choose a new node to replace the deleted one.</p> <p>We know that the new node must:</p> <ul><li>be &gt; than everything in left subtree.</li> <li>be &lt; than everything right subtree.</li></ul> <p>In the below tree, we show which nodes would satisfy these requirements given that we are trying to delete the <code>dog</code> node.</p> <p>To find these nodes, you can just take the right-most node in the left subtree or the left-most node in the right subtree.</p> <p>Then, we replace the <code>dog</code> node with either <code>cat</code> or <code>elf</code> and then remove the old <code>cat</code> or <code>elf</code> node.</p> <p>This is called <strong>Hibbard deletion</strong>, and it gloriously maintains the BST property amidst a deletion.</p> <h4 id=""><a href="#" class="header-anchor">#</a></h4> <hr> <h4 id="_4-performance"><a href="#_4-performance" class="header-anchor">#</a> 4 performance</h4> <ul><li>Height varies dramatically between “bushy” and “spindly” trees.</li> <li>取决于树的 密度？ 疏（bad）   ： 密(good);</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/388749/1571301380482-2f047ff9-28d1-4c18-8162-c3669c37cdc4.png" alt="treeh.png"></p> <h3 id="_3-summary"><a href="#_3-summary" class="header-anchor">#</a> 3 summary</h3> <h4 id="_1-binary-search-trees-efficient-data-structures-for-supporting-insertion-and-search"><a href="#_1-binary-search-trees-efficient-data-structures-for-supporting-insertion-and-search" class="header-anchor">#</a> 1 Binary search trees: Efficient data structures for supporting insertion and search.</h4> <ul><li><p>Operations on “Bushy” BSTs are logarithmic time.</p></li> <li><p>Insertion of random data yields a bushy BST.</p></li> <li><ul><li>On random data, order of growth for get/put operations is logarithmic.</li></ul></li></ul> <h4 id="_2-performance-issues"><a href="#_2-performance-issues" class="header-anchor">#</a> 2 Performance issues:</h4> <ul><li><p>“Spindly” trees have linear performance.</p></li> <li><p>Hibbard deletion results in order of growth that is sqrt(N).</p></li> <li><ul><li>Nobody knows how to do better on simple BSTs. Can improve to log(N) by having Hibbard Deletion that randomly picks successor vs. predecessor.</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/查并集.html" class="prev">查并集</a></span> <span class="next"><a href="/algorithm/AVL.html">AVL</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4ed34284.js" defer></script><script src="/assets/js/2.179fc952.js" defer></script><script src="/assets/js/23.2ee85c93.js" defer></script>
  </body>
</html>
