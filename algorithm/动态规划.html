<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态规划 | Weitanai</title>
    <meta name="description" content="Rock And Roll">
    
    
    <link rel="preload" href="/assets/css/0.styles.5c38130e.css" as="style"><link rel="preload" href="/assets/js/app.4ed34284.js" as="script"><link rel="preload" href="/assets/js/2.179fc952.js" as="script"><link rel="preload" href="/assets/js/15.cad1522e.js" as="script"><link rel="prefetch" href="/assets/js/10.68dc8d53.js"><link rel="prefetch" href="/assets/js/11.832d96e7.js"><link rel="prefetch" href="/assets/js/12.33575e22.js"><link rel="prefetch" href="/assets/js/13.a044b60e.js"><link rel="prefetch" href="/assets/js/14.593fea9c.js"><link rel="prefetch" href="/assets/js/16.712b690b.js"><link rel="prefetch" href="/assets/js/17.cd78bb73.js"><link rel="prefetch" href="/assets/js/18.2debaf5f.js"><link rel="prefetch" href="/assets/js/19.f8de78ef.js"><link rel="prefetch" href="/assets/js/20.f0007b06.js"><link rel="prefetch" href="/assets/js/21.bfea6e70.js"><link rel="prefetch" href="/assets/js/22.d5f0398a.js"><link rel="prefetch" href="/assets/js/23.2ee85c93.js"><link rel="prefetch" href="/assets/js/24.d7b9c088.js"><link rel="prefetch" href="/assets/js/25.c0eecd02.js"><link rel="prefetch" href="/assets/js/26.f8eee9c5.js"><link rel="prefetch" href="/assets/js/27.b1ce073b.js"><link rel="prefetch" href="/assets/js/28.48df8e62.js"><link rel="prefetch" href="/assets/js/29.2f438cb0.js"><link rel="prefetch" href="/assets/js/3.8f4629bf.js"><link rel="prefetch" href="/assets/js/30.ec20a26d.js"><link rel="prefetch" href="/assets/js/31.ed3582c1.js"><link rel="prefetch" href="/assets/js/32.f57554e0.js"><link rel="prefetch" href="/assets/js/33.acdf3adf.js"><link rel="prefetch" href="/assets/js/34.fb00c414.js"><link rel="prefetch" href="/assets/js/35.e54e13a0.js"><link rel="prefetch" href="/assets/js/36.cab101c8.js"><link rel="prefetch" href="/assets/js/37.5bce502a.js"><link rel="prefetch" href="/assets/js/38.1f71117c.js"><link rel="prefetch" href="/assets/js/39.9322f78e.js"><link rel="prefetch" href="/assets/js/4.b253f392.js"><link rel="prefetch" href="/assets/js/40.a5a5bd97.js"><link rel="prefetch" href="/assets/js/5.b6a9313e.js"><link rel="prefetch" href="/assets/js/6.9ee5c745.js"><link rel="prefetch" href="/assets/js/7.2358918f.js"><link rel="prefetch" href="/assets/js/8.c2b664f0.js"><link rel="prefetch" href="/assets/js/9.56c8ec88.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5c38130e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Weitanai</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端世界" class="dropdown-title"><span class="title">前端世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">工程实践</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">浏览器</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/weitanai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端世界" class="dropdown-title"><span class="title">前端世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">工程实践</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">浏览器</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/weitanai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/algorithm/" class="sidebar-link">常见算法与数据结构的总结</a></li><li><a href="/algorithm/数组与矩阵.html" class="sidebar-link">数组与矩阵</a></li><li><a href="/algorithm/DFS-BFS.html" class="sidebar-link">DFS与BFS</a></li><li><a href="/algorithm/二分查找.html" class="sidebar-link">二分查找</a></li><li><a href="/algorithm/双指针.html" class="sidebar-link">双指针</a></li><li><a href="/algorithm/排序.html" class="sidebar-link">sort</a></li><li><a href="/algorithm/位运算.html" class="sidebar-link">位运算</a></li><li><a href="/algorithm/字符串.html" class="sidebar-link">字符串</a></li><li><a href="/algorithm/linkedList.html" class="sidebar-link">LinkList</a></li><li><a href="/algorithm/stack-queue.html" class="sidebar-link">stack-queue</a></li><li><a href="/algorithm/数学.html" class="sidebar-link">数学</a></li><li><a href="/algorithm/贪心算法与回溯算法.html" class="sidebar-link">贪心算法与回溯算法</a></li><li><a href="/algorithm/动态规划.html" class="active sidebar-link">动态规划</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/algorithm/动态规划.html#_1-想法" class="sidebar-link">1 想法</a></li><li class="sidebar-sub-header"><a href="/algorithm/动态规划.html#_2-应用与例题" class="sidebar-link">2 应用与例题</a></li></ul></li><li><a href="/algorithm/查并集.html" class="sidebar-link">查并集</a></li><li><a href="/algorithm/树结构.html" class="sidebar-link">树</a></li><li><a href="/algorithm/AVL.html" class="sidebar-link">AVL</a></li><li><a href="/algorithm/heap.html" class="sidebar-link">Heap</a></li><li><a href="/algorithm/链表结构.html" class="sidebar-link">链表</a></li><li><a href="/algorithm/Hash.html" class="sidebar-link">Hash</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h1> <h2 id="_1-想法"><a href="#_1-想法" class="header-anchor">#</a> 1 想法</h2> <ul><li>动态规划常常适用于有重叠子问题和最优子结构性质的问题，动态规划方法所耗时间往往远少于朴素解法。</li> <li>动态规划背后的基本思想非常简单。大致上，若要解一个给定问题，我们需要解其不同部分（即子问题），再根据子问题的解以得出原问题的解。</li> <li>通常许多子问题非常相似，为此动态规划法试图仅仅解决每个子问题一次，从而减少计算量：一旦某个给定子问题的解已经算出，则将其记忆化存储，以便下次需要同一个子问题解之时直接查表。这种做法在重复子问题的数目关于输入的规模呈指数增长时特别有用。</li></ul> <h3 id="想法1"><a href="#想法1" class="header-anchor">#</a> 想法1</h3> <ul><li>1确定状态</li> <li>最后一步</li> <li>​    子问题</li> <li>2 状态转移方程</li> <li>3 初始条件， 边界条件</li> <li>计算顺序：利用计算结果，减少重复计算</li></ul> <h3 id="想法2"><a href="#想法2" class="header-anchor">#</a> 想法2</h3> <ul><li>刻画一个最优解的结构特征</li> <li>递归地定义最优解的值</li> <li>计算最优解的值， 通常采用自低向上</li> <li>利用计算出的信息构造一个最优解</li></ul> <h3 id="想法3：从集合的角度来思考dp"><a href="#想法3：从集合的角度来思考dp" class="header-anchor">#</a> 想法3：从集合的角度来思考dp;</h3> <ul><li>1 状态</li> <li>​    集合：</li> <li>​    属性：</li> <li>2 状态计算-集合的划分</li></ul> <h3 id="想法4"><a href="#想法4" class="header-anchor">#</a> 想法4</h3> <ul><li><p>怎么鉴定dp可解的一类问题需要从计算机是怎么工作的说起…计算机的本质是一个状态机，内存里存储的所有数据构成了当前的状态，CPU只能利用当前的状态计算出下一个状态（不要纠结硬盘之类的外部存储，就算考虑他们也只是扩大了状态的存储容量而已，并不能改变下一个状态只能从当前状态计算出来这一条铁律）</p></li> <li><p>当你企图使用计算机解决一个问题是，其实就是在思考如何将这个问题表达成状态（用哪些变量存储哪些数据）以及如何在状态中转移（怎样根据一些变量计算出另一些变量）。所以所谓的空间复杂度就是为了支持你的计算所必需存储的状态最多有多少，所谓时间复杂度就是从初始状态到达最终状态中间需要多少步！</p></li></ul> <blockquote><p>每个阶段的最优状态可以从之前某个阶段的某个或某些状态直接得到</p></blockquote> <p>这个性质叫做最优子结构；</p> <blockquote><p>而不管之前这个状态是如何得到的</p></blockquote> <p>这个性质叫做无后效性。</p> <h3 id="想法5"><a href="#想法5" class="header-anchor">#</a> 想法5</h3> <ul><li>动态规划是通过**拆分问题，**定义问题状态和状态之间的关系，使得问题能够以递推（或者说分治）的方式去解决。</li> <li>核心: <strong>如何拆分问题</strong></li> <li><strong>拆分问题</strong>，靠的就是<strong>状态的定义</strong>和<strong>状态转移方程的定义</strong>。</li></ul> <p>\1. 什么是<strong>状态的定义？</strong></p> <blockquote><p>给定一个数列，长度为N，求这个数列的最长上升（递增）子数列（LIS）的长度.以1 7 2 8 3 4为例。这个数列的最长递增子数列是 1 2 3 4，长度为4；次长的长度为3， 包括 1 7 8; 1 2 3 等.</p></blockquote> <ul><li><p>要解决这个问题，我们首先要<strong>定义这个问题</strong>和这个问题的子问题。</p></li> <li><p>重新定义这个问题：</p></li></ul> <blockquote><p>给定一个数列，长度为N，设<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158785-0fdccfa7-ff38-450a-b87e-82d02b8a9f54.svg" alt="img">为：以数列中第k项结尾的最长递增子序列的长度.求<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158806-458f953a-494e-4016-b796-47841def5cc9.svg" alt="img"> 中的最大值.</p></blockquote> <blockquote></blockquote> <p>显然，这个新问题与原问题等价。</p> <ul><li><p>而对于<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158801-9b70beef-d2e3-4002-bf8b-63884916a68c.svg" alt="img">来讲，<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158809-c94f674b-412b-4517-b16b-d704b92c91f1.svg" alt="img">都是<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158793-480a75ec-e8e0-4de8-93d3-a9e172dac853.svg" alt="img">的子问题：因为以第k项结尾的最长递增子序列（下称LIS），包含着以第<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158796-30cf2e6d-7d76-4dc8-84ff-903ed80d78da.svg" alt="img">中某项结尾的LIS。</p></li> <li><p>上述的新问题<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158828-7935366c-ec8b-4597-929c-6af264d5b7c9.svg" alt="img">也可以叫做状态，定义中的“<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158813-594d8a71-c26e-4187-a294-28cbaa1bf6a6.svg" alt="img">为数列中第k项结尾的LIS的长度”，就叫做对状态的定义。</p></li> <li><p>之所以把<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158797-dba034ef-4e55-4958-9853-cbaf21d78d09.svg" alt="img">做“状态”而不是“问题” ，一是因为避免跟原问题中“问题”混淆，二是因为这个新问题是数学化定义的。</p></li></ul> <p>对状态的定义只有一种吗？<em>当然不是</em>。</p> <ul><li>以二维的，以完全不同的视角定义这个问题：</li></ul> <blockquote><p>给定一个数列，长度为N，设<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158815-af945736-3db6-467e-9e75-877c777e536e.svg" alt="img">为：在前i项中的，长度为k的最长递增子序列中，最后一位的最小值. <img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158818-374d4f40-cac5-468c-9029-07ad3d962269.svg" alt="img">.若在前i项中，不存在长度为k的最长递增子序列，则<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158796-dd810902-c941-46ab-bf6b-a0e40eeedccd.svg" alt="img">为正无穷.求最大的x，使得<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158780-c735631b-f800-4af9-9f19-18d72954cfa4.svg" alt="img">不为正无穷。</p></blockquote> <p>上述的<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158830-55ac9605-4248-493f-9b1d-ea6cd57cfd0f.svg" alt="img">就是状态，定义中的“<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158809-64fe4df4-1af7-43a2-a435-e6c199278287.svg" alt="img">为：在前i项中，长度为k的最长递增子序列中，最后一位的最小值”就是对状态的定义。</p> <p>\2. 什么是<strong>状态转移方程</strong>？</p> <p>上述状态定义好之后，状态和状态之间的关系式，就叫做<strong>状态转移方程。</strong></p> <p>比如，对于LIS问题，我们的第一种定义：</p> <blockquote><p>设<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158799-a06558d6-471b-4850-98b0-c78504b613f6.svg" alt="img">为：以数列中第k项结尾的最长递增子序列的长度.</p></blockquote> <p>设A为题中数列，状态转移方程为：</p> <blockquote><p><img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158819-5fe3ac45-39d6-43a6-81fe-ac8bea2701ed.svg" alt="img"> （根据状态定义导出边界情况）<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158822-9da03b3b-bc2c-42a5-b8ed-ca2b691f2440.svg" alt="img"><img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158834-61eed496-90a2-4699-b776-3677876fd597.svg" alt="img"></p></blockquote> <ul><li>以第k项结尾的LIS的长度是：保证第i项比第k项小的情况下，以第i项结尾的LIS长度加一的最大值，取遍i的所有值（i小于k）。</li></ul> <p>第二种定义：</p> <blockquote><p>设<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158851-6bc33659-870b-4b1c-9658-c8d68be4e074.svg" alt="img">为：在数列前i项中，长度为k的递增子序列中，最后一位的最小值</p></blockquote> <p>设A为题中数列，状态转移方程为：</p> <blockquote><p>若<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158909-0d658a60-0b37-47c8-bfef-ba0c0f2a663d.svg" alt="img">则<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158901-ae1755b0-eae3-491e-9dfb-12200ba00b1a.svg" alt="img">否则：<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158905-9cd846c4-f6b4-4ed1-ae9f-c3971b039bf8.svg" alt="img"></p></blockquote> <p>（边界情况需要分类讨论较多）</p> <p>大家套着定义读一下公式就可以了，应该不难理解，就是有点绕。</p> <p>这里可以看出，这里的状态转移方程，就是定义了问题和子问题之间的关系。</p> <p>可以看出，状态转移方程就是带有条件的递推式。</p> <hr> <h2 id="_2-应用与例题"><a href="#_2-应用与例题" class="header-anchor">#</a> 2 应用与例题</h2> <h3 id="_1斐波那契数列"><a href="#_1斐波那契数列" class="header-anchor">#</a> 1斐波那契数列</h3> <h4 id="_1-斐波那契数"><a href="#_1-斐波那契数" class="header-anchor">#</a> 1 <a href="https://leetcode-cn.com/problems/fibonacci-number/" target="_blank" rel="noopener noreferrer"> 斐波那契数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <p><strong>斐波那契数</strong>，通常用 <code>F(n)</code> 表示，形成的序列称为<strong>斐波那契数列</strong>。该数列由 <code>0</code> 和 <code>1</code> 开始，后面的每一项数字都是前面两项数字的和。也就是：</p> <p>F(0) = 0,   F(1) = 1</p> <p>F(N) = F(N - 1) + F(N - 2), 其中 N &gt; 1.</p> <p>给定 <code>N</code>，计算 <code>F(N)</code>。</p> <p><strong>示例 1：</strong></p> <p>**输入：**2</p> <p>**输出：**1</p> <p>**解释：**F(2) = F(1) + F(0) = 1 + 0 = 1.</p> <ul><li>idea: 注意前两个数的边界条件。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token class-name">N</span> <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">N</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-爬楼梯"><a href="#_2-爬楼梯" class="header-anchor">#</a> 2 爬楼梯</h4> <p><a href="https://leetcode.com/problems/climbing-stairs/description/" target="_blank" rel="noopener noreferrer">70. Climbing Stairs (Easy)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>题目描述：有 N 阶楼梯，每次可以上一阶或者两阶，求有多少种上楼梯的方法。</p> <p>定义一个数组 dp 存储上楼梯的方法数（为了方便讨论，数组下标从 1 开始），dp[i] 表示走到第 i 个楼梯的方法数目。</p> <p>第 i 个楼梯可以从第 i-1 和 i-2 个楼梯再走一步到达，走到第 i 个楼梯的方法数为走到第 i-1 和第 i-2 个楼梯的方法数之和。</p> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/388749/1570273831128-25426a2a-e71a-45d0-8205-253de5128c9f.png" alt="img"></p> <p>考虑到 dp[i] 只与 dp[i - 1] 和 dp[i - 2] 有关，因此可以只用两个变量来存储 dp[i - 1] 和 dp[i - 2]，使得原来的 O(N) 空间复杂度优化为 O(1) 复杂度。</p> <ul><li>idea:</li> <li>时间从指数级时间下降当线性级</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">climbStairs</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> n <span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> n<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_2-完全平方数"><a href="#_2-完全平方数" class="header-anchor">#</a> 2 完全平方数</h3> <h5 id="给定正整数-n，找到若干个完全平方数（比如-1-4-9-16-）使得它们的和等于-n。你需要让组成和的完全平方数的个数最少。"><a href="#给定正整数-n，找到若干个完全平方数（比如-1-4-9-16-）使得它们的和等于-n。你需要让组成和的完全平方数的个数最少。" class="header-anchor">#</a> 给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。</h5> <p>示例 1:</p> <p>输入: n = 12</p> <p>输出: 3</p> <p>解释: 12 = 4 + 4 + 4.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">numSquares</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">-</span>j<span class="token operator">*</span>j<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>j<span class="token operator">*</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3最小路径和"><a href="#_3最小路径和" class="header-anchor">#</a> 3最小路径和</h3> <p>给定一个包含非负整数的 m x n 网格，请找出一条从左上角到右下角的路径，使得路径上的数字总和为最小。</p> <p>说明：每次只能向下或者向右移动一步。</p> <p>示例:</p> <p>输入:</p> <p>[</p> <p>[1,3,1],</p> <p>[1,5,1],</p> <p>[4,2,1]</p> <p>]</p> <p>输出: 7</p> <p>解释: 因为路径 1→3→1→1→1 的总和最小。</p> <h4 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h4> <ul><li>点不在边界情况时：有两条路径可以到达grid[i][j]，  dp[i][j] = grid[i][j] + Math.min(dp[i + 1][j], dp[i][j + 1])</li> <li>在边界的时候，只有一条路径    dp[i][j] = grid[i][j] +  dp[i][j + 1];</li> <li>​        dp[i][j] = grid[i][j] + dp[i + 1][j];</li> <li></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minPathSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>grid<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> grid<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                
                <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> grid<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">!=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span>  dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">==</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> grid<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">!=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> grid<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token keyword">else</span>
                    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-不同路径"><a href="#_4-不同路径" class="header-anchor">#</a> 4 不同路径</h3> <p>一个机器人位于一个 m x n 网格的左上角 （起始点在下图中标记为“Start” ）。</p> <p>机器人每次只能向下或者向右移动一步。机器人试图达到网格的右下角（在下图中标记为“Finish”）。</p> <p>问总共有多少条不同的路径？</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">uniquePaths</span><span class="token punctuation">(</span><span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token punctuation">,</span> j<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span><span class="token punctuation">{</span>
                    f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> f<span class="token punctuation">[</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_5-最长上升子序列"><a href="#_5-最长上升子序列" class="header-anchor">#</a> 5 <a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/" target="_blank" rel="noopener noreferrer"> 最长上升子序列<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>给定一个无序的整数数组，找到其中最长上升子序列的长度。</p> <p><strong>示例:</strong></p> <p><strong>输入:</strong> <code>[10,9,2,5,3,7,101,18]</code></p> <p><strong>输出:</strong> 4</p> <p><strong>解释:</strong> 最长的上升子序列是 <code>[2,3,7,101]，</code>它的长度是 <code>4</code>。</p> <blockquote><p>给定一个数列，长度为N</p></blockquote> <blockquote><p>设<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158785-0fdccfa7-ff38-450a-b87e-82d02b8a9f54.svg" alt="img">为：以数列中第k项结尾的最长递增子序列的长度.</p></blockquote> <blockquote><p>求<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158806-458f953a-494e-4016-b796-47841def5cc9.svg" alt="img"> 中的最大值.</p></blockquote> <ul><li><p>而对于<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158801-9b70beef-d2e3-4002-bf8b-63884916a68c.svg" alt="img">来讲，<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158809-c94f674b-412b-4517-b16b-d704b92c91f1.svg" alt="img">都是<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158793-480a75ec-e8e0-4de8-93d3-a9e172dac853.svg" alt="img">的子问题：因为以第k项结尾的最长递增子序列（下称LIS），包含着以第<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158796-30cf2e6d-7d76-4dc8-84ff-903ed80d78da.svg" alt="img">中某项结尾的LIS。</p></li> <li><p>上述的新问题<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158828-7935366c-ec8b-4597-929c-6af264d5b7c9.svg" alt="img">也可以叫做状态，定义中的“<img src="https://cdn.nlark.com/yuque/0/2019/svg/388749/1570514158813-594d8a71-c26e-4187-a294-28cbaa1bf6a6.svg" alt="img">为数列中第k项结尾的LIS的长度”，就叫做对状态的定义</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> maxans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dp<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> maxval <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token comment">// 前 1到i-1的最大长度对比， 找出最大长度。</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    maxval <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxval<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// </span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> maxval <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            maxans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxans<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> maxans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_6背包问题"><a href="#_6背包问题" class="header-anchor">#</a> 6背包问题</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>company</span><span class="token punctuation">.</span><span class="token class-name">ForTruth</span><span class="token punctuation">.</span>ali<span class="token punctuation">.</span>背包问题<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Author:   hszzjs
 * Date:     2019/5/10 13:41
 * E-mail:   hushaozhe@stu.xidian.edu.cn
 * 题目描述：完全背包
 * 有 N 种物品和一个容量是 V 的背包，每种物品都有无限件可用。第 i 种物品的体积是 vi，价值是 wi。
 求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。输出最大价值。
 输入格式
 第一行两个整数，N，V，用空格隔开，分别表示物品种数和背包容积。
 接下来有 N 行，每行两个整数 vi,wi，用空格隔开，分别表示第 i 种物品的体积和价值。
 输出格式
 输出一个整数，表示最大价值。
 数据范围
 0&lt;N,V≤1000
 0&lt;vi,wi≤1000
 输入样例
 4 5
 1 2
 2 4
 3 4
 4 5
 输出样例：
 10
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 完全背包 <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 完全背包问题，完全是基于01背包的扩展，问题就在于完全背包的物品件数是不限制的。所以相较于前面的，就是有一个个数k&gt;=0，
     * 这样的做法时间复杂度是O(N*V)
     * 所以动态规划的递推公式就是：
     * dp(i,j)=Max{dp(i-1,j),dp(i,j-k*vi)+wi*k}其中k&gt;=1
     *       =Max(dp(i-1,j),dp(i,j-vi-k*vi)+k*wi+wi),其中k&gt;=0
     *       =Max(dp(i-1,j),dp(i+1,j-vi)+wi)
     * 参考链接：https://blog.csdn.net/zhao_xinhao/article/details/77153300
     * 然后完全背包问题是正序遍历。
     * 明显可以看到这个优化了的，未优化，就是对于k进行遍历，
     * 时间复杂度是O(N*V^2)
     */</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> VW<span class="token punctuation">{</span>
        <span class="token keyword">int</span> v<span class="token punctuation">,</span>w<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token function">VW</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span><span class="token keyword">int</span> w<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>v<span class="token operator">=</span>v<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>w<span class="token operator">=</span>w<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> sc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span>sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token operator">=</span>sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        VW<span class="token punctuation">[</span><span class="token punctuation">]</span> vw<span class="token operator">=</span><span class="token keyword">new</span> VW<span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            vw<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">VW</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">V</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//优化</span>
<span class="token comment">//        for(int i=1;i&lt;=N;i++){</span>
<span class="token comment">//            for(int j=1;j&lt;=V;j++){</span>
<span class="token comment">//                if(vw[i-1].v&gt;j) res[i][j]=res[i-1][j];</span>
<span class="token comment">//                else res[i][j]=Math.max(res[i-1][j],res[i][j-vw[i-1].v]+vw[i-1].w);</span>
<span class="token comment">//            }</span>
<span class="token comment">//        }</span>
        <span class="token comment">//未优化</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token class-name">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token class-name">V</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>vw<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">&gt;</span>j<span class="token punctuation">)</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>res<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">*</span>vw<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">&lt;=</span>j<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token keyword">int</span> tmp<span class="token operator">=</span>res<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>k<span class="token operator">*</span>vw<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">]</span><span class="token operator">+</span>k<span class="token operator">*</span>vw<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token operator">&gt;</span>res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>tmp<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">V</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/贪心算法与回溯算法.html" class="prev">贪心算法与回溯算法</a></span> <span class="next"><a href="/algorithm/查并集.html">查并集</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4ed34284.js" defer></script><script src="/assets/js/2.179fc952.js" defer></script><script src="/assets/js/15.cad1522e.js" defer></script>
  </body>
</html>
